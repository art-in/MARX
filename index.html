<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>presentation</title>

    <link rel="stylesheet" type="text/css" href="styles/styles.css">

    <script language="javascript" type="text/javascript" src="scripts/libs/jquery-2.1.1.min.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/libs/knockout-3.1.0.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/libs/showdown.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/libs/jquery.hotkeys.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/libs/jquery.debounce-1.0.5.js"></script>

    <script language="javascript" type="text/javascript" src="scripts/viewModels/Presentation.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/viewModels/Slide.js"></script>

    <script language="javascript" type="text/javascript" src="scripts/client.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/helpers.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/koBindingHandlers.js"></script>
</head>
<body data-bind="hotkeys: [{key: 'left', context:$root, fn: GoToPreviousSlide},
                           {key: 'right', context:$root, fn: GoToNextSlide},
                           {key: 'alt+shift+n', context:$root, fn: AddNewSlide}]">

<div id="pnlPresentation">
    <div id="pnlSlides" data-bind="template: {name: 'slide-template', foreach: Slides}"></div>
    <div id="pnlCurrentSlideNumber" data-bind="html: CurrentSlideNumber"></div>
</div>

<script type="text/html" id="slide-template">
    <div class="slide" style="display: none;"
         data-bind="slideShow: $data == $root.CurrentSlide(),
                    slideTargetPosition:pnlSlides,
                    slideDirection: $root.CurrentSlideIndex() - $root.PreviousSlideIndex()">
        <div class="slide-output" data-bind="html: $data.OutputHTML"></div>
        <div class="slide-definition" contenteditable="true"
             data-bind="innerHTML: $data.DefinitionHTML,
                        hotkeys: [{key: 'alt+shift+n', context:$root, fn: $root.AddNewSlide}]"></div>
    </div>
</script>

<div id="pnlActions">
    <input type="button" value="add new slide" data-bind="click: AddNewSlide">
    <input type="button" value="remove current slide" data-bind="click: RemoveCurrentSlide">
    <br/>
    <input type="button" value="previous slide" data-bind="click: GoToPreviousSlide">
    <input type="button" value="next slide" data-bind="click: GoToNextSlide">
</div>

</body>
</html>